<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>게시판 글쓰기</title>
    <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js" integrity="sha384-g7c+Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI+sEnkvrMWph2EDg4" crossorigin="anonymous"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js" integrity="sha384-mll67QQFJfxn0IYznZYonOWZ644AWYC+Pt2cHqMaRhXVrursRwvLnLaebdGIlYNa" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script>
    <link rel="stylesheet" href="style-uproad.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100;300;400;500;700;900&display=swap" rel="stylesheet">
</head>
<body>
    <header>
        <div class="header-inner">
            <div class="logo">
                <h1>
                    <a href="main.html">
                        <span style="color:#d0d0d0;">MATH</span>ON
                    </a>
                </h1>
            </div>
            <nav class="menu">
                <ul class="list"> <!-- 메뉴 목록 -->
                    <li><a href="problem-list.html">문제</a></li>
                    <li><a href="problem-collection.html">문제집</a></li>
                    <li><a href="community.html">게시판</a></li>
                    <li><a href="#">도움말</a></li>
                </ul>
            </nav>
            <div class="sign"> <!-- 로그인/회원가입 -->
                <ul class="list">
                    <li><a href="sign-in.html">로그인</a></li>
                    <li><a href="sign-up.html">회원가입</a></li>
                </ul>
            </div>
        </div>
    </header>
    <section class="center">
        <div class="center-inner">
            <div class="problem-nav">
                <ul class="list">
                    <li><a href="problem-list.html">전체</a></li>
                    <li><a href="#">분류</a></li>
                    <li><a href="#">내 문제</a></li>
                    <li><a href="problem-create.html" class="active">올리기</a></li>
                </ul>
            </div>
            <div class="wrap">
                <form class="post-uproad" method="post" onsubmit="return false;">
                    <div class="category-type">
                        <div class="text">과목</div>
                        <select name="category" id="category">
                            <option value="8-10">초1~3</option>
                            <option value="11-13">초4~6</option>
                            <option value="14">중1</option>
                            <option value="15">중2</option>
                            <option value="16">중3</option>
                            <option value="17-1">수학 (상)</option>
                            <option value="17-2">수학 (하)</option>
                            <option value="18-1">수학 I</option>
                            <option value="18-2">수학 II</option>
                            <option value="19-1">미적분</option>
                            <option value="19-2">확률과 통계</option>
                            <option value="19-3">기하</option>
                            <option value="external">교과 외</option>
                        </select>
                    </div>
                    <div class="title">
                        <div class="text">이름</div>
                        <input type="type" class="input" placeholder="문제 이름을 입력해주세요." name="name">
                    </div>
                    <div class="desc">
                        <div class="text">내용</div>
                        <div id="standalone-container">
                            <div id="toolbar-container">
                                <span class="ql-formats">
                                    <select class="ql-size">
                                        <!-- <option value="8px">8pt</option>
                                        <option value="9px">9pt</option>
                                        <option value="10px">10pt</option>
                                        <option value="12px">12pt</option>
                                        <option value="14px">14pt</option>
                                        <option value="16px">16pt</option>
                                        <option value="18px">18pt</option>
                                        <option value="20px">20pt</option>
                                        <option value="24px">24pt</option>
                                        <option value="32px">32pt</option>
                                        <option value="42px">42pt</option>
                                        <option value="54px">54pt</option>
                                        <option value="68px">68pt</option>
                                        <option value="84px">84pt</option>
                                        <option value="98px">98pt</option> !-->
                                    </select>
                                </span>
                                <span class="ql-formats">
                                    <button class="ql-bold"></button>
                                    <button class="ql-italic"></button>
                                    <button class="ql-underline"></button>
                                    <button class="ql-strike"></button>
                                </span>
                                <span class="ql-formats">
                                    <select class="ql-color"></select>
                                    <select class="ql-background"></select>
                                </span>
                                <span class="ql-formats">
                                    <button class="ql-script" value="sub"></button>
                                    <button class="ql-script" value="super"></button>
                                </span>
                                <span class="ql-formats">
                                    <button class="ql-header" value="1"></button>
                                    <button class="ql-header" value="2"></button>
                                    <button class="ql-blockquote"></button>
                                </span>
                                <span class="ql-formats">
                                    <button class="ql-list" value="ordered"></button>
                                    <button class="ql-list" value="bullet"></button>
                                    <button class="ql-indent" value="-1"></button>
                                    <button class="ql-indent" value="+1"></button>
                                </span>
                                <span class="ql-formats">
                                    <button class="ql-direction" value="rtl"></button>
                                    <select class="ql-align"></select>
                                </span>
                                <span class="ql-formats">
                                    <button class="ql-link"></button>
                                    <button class="ql-image"></button>
                                    <button class="ql-video"></button>
                                    <button class="ql-formula"></button>
                                </span>
                                <span class="ql-formats">
                                    <button class="ql-clean"></button>
                                </span>
                            </div>
                            <div id="contents" style="height: 208px"></div>
                        </div>      
                        <script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>
                        <script>
                            var quill = new Quill('#contents', {
                                modules: {
                                    formula: true,
                                    syntax: true,
                                    toolbar: '#toolbar-container',
                                },
                                theme: 'snow'
                            });
                        </script>
                    </div>
                    <div class="solution">
                        <div class="text">풀이과정</div>
                        <div id="standalone-container">
                            <div id="toolbar-container-solve">
                                <span class="ql-formats">
                                    <select class="ql-size">
                                        <!-- <option value="8px">8pt</option>
                                        <option value="9px">9pt</option>
                                        <option value="10px">10pt</option>
                                        <option value="12px">12pt</option>
                                        <option value="14px">14pt</option>
                                        <option value="16px">16pt</option>
                                        <option value="18px">18pt</option>
                                        <option value="20px">20pt</option>
                                        <option value="24px">24pt</option>
                                        <option value="32px">32pt</option>
                                        <option value="42px">42pt</option>
                                        <option value="54px">54pt</option>
                                        <option value="68px">68pt</option>
                                        <option value="84px">84pt</option>
                                        <option value="98px">98pt</option> !-->
                                    </select>
                                </span>
                                <span class="ql-formats">
                                    <button class="ql-bold"></button>
                                    <button class="ql-italic"></button>
                                    <button class="ql-underline"></button>
                                    <button class="ql-strike"></button>
                                </span>
                                <span class="ql-formats">
                                    <select class="ql-color"></select>
                                    <select class="ql-background"></select>
                                </span>
                                <span class="ql-formats">
                                    <button class="ql-script" value="sub"></button>
                                    <button class="ql-script" value="super"></button>
                                </span>
                                <span class="ql-formats">
                                    <button class="ql-header" value="1"></button>
                                    <button class="ql-header" value="2"></button>
                                    <button class="ql-blockquote"></button>
                                </span>
                                <span class="ql-formats">
                                    <button class="ql-list" value="ordered"></button>
                                    <button class="ql-list" value="bullet"></button>
                                    <button class="ql-indent" value="-1"></button>
                                    <button class="ql-indent" value="+1"></button>
                                </span>
                                <span class="ql-formats">
                                    <button class="ql-direction" value="rtl"></button>
                                    <select class="ql-align"></select>
                                </span>
                                <span class="ql-formats">
                                    <button class="ql-link"></button>
                                    <button class="ql-image"></button>
                                    <button class="ql-video"></button>
                                    <button class="ql-formula"></button>
                                </span>
                                <span class="ql-formats">
                                    <button class="ql-clean"></button>
                                </span>
                            </div>
                            <div id="contents-solve" style="height: 208px"></div>
                        </div>      
                        <script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>
                        <script>
                            var quill = new Quill('#contents-solve', {
                                modules: {
                                    formula: true,
                                    syntax: true,
                                    toolbar: '#toolbar-container-solve',
                                },
                                theme: 'snow'
                            });
                        </script>
                    </div>
                    <div class="type">
                        <div class="text">분류</div>
                        <input type="type" class="input" placeholder="분류명을 입력해주세요." name="type" id="type">
                    </div>
                    <div id="type-list">
                        <div id="no-type" style="color: #6d6d6d; font-size: 17px; font-weight: 600; margin-top: 15px;">문제 분류가 없습니다.</div>
                    </div>
                    <div class="source">
                        <div class="text">출처</div>
                        <input type="type" class="input" placeholder="태그를 입력해주세요." name="source" id="source">
                    </div>
                    <div id="source-list">
                        <div id="no-source" style="color: #6d6d6d; font-size: 17px; font-weight: 600; margin-top: 15px;">문제 출처가 없습니다.</div>
                    </div>
                    <button class="uproad">올리기</button>
                </form>
            </div>
        </div>
    </section>
    <footer>
        
    </footer>
    <script>
        var type_input = document.getElementById("type");
        var source_input = document.getElementById("source");
        var type_list = document.getElementById("type-list");
        var source_list = document.getElementById("source-list");
        var type_span = 0;
        var source_span = 0;
        type_input.addEventListener("keyup", function(event) {
            if(event.keyCode == 13) {
                if(type_input.value.trim() != '') {
                    if(type_span == 0) {
                        var no_type = document.getElementById("no-type");
                        no_type.parentNode.removeChild(no_type);
                    }
                    var tmp_type = type_input.value.replaceAll(" ", "_");
                    type_input.value = null;
                    type_list.innerHTML += `<span onclick="remove_type(this);">#${tmp_type}</span>`;
                    type_span++;
                }
            }
        });
        source_input.addEventListener("keyup", function(event) {
            if(event.keyCode == 13) {
                if(source_input.value.trim() != '') {
                    if(source_span == 0) {
                        var no_type = document.getElementById("no-type");
                        var no_source = document.getElementById("no-source");
                    }
                    var tmp_source = source_input.value.replaceAll(" ", "_");
                    source_input.value = null;
                    source_list.innerHTML += `<span onclick="remove_source(this);">#${tmp_source}</span>`;
                    source_span++;
                }
            }
        });
        function remove_type(obj) {
            obj.parentNode.removeChild(obj);
            if(--type_span == 0) type_list.innerHTML += `<div id="no-type" style="color: #6d6d6d; font-size: 17px; font-weight: 600; margin-top: 15px;">문제 분류가 없습니다.</div>`;
        }
        function remove_source(obj) {
            obj.parentNode.removeChild(obj);
            if(--source_span == 0) no_source.style.display += '<div id="no-source" style="color: #6d6d6d; font-size: 17px; font-weight: 600; margin-top: 15px;">문제 출처가 없습니다.</div>';
        }
    </script>
</body>
</html>